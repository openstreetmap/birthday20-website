!function(e,t){"function"==typeof define&&define.amd?define("GLightbox",["module"],t):"undefined"!=typeof exports?t(module):(t(t={exports:{}}),e.GLightbox=t.exports)}(this,function(e){"use strict";var t=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e};function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),s=null!==y||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,o=document.getElementsByTagName("html")[0],S=document.body,l=function(){var e=void 0,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}(),r=function(){var e=void 0,t=document.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}(),a=Date.now(),m=[],b={},c={selector:"glightbox",skin:"clean",closeButton:!0,startAt:0,autoplayVideos:!0,descPosition:"bottom",width:900,height:506,videosWidth:960,videosHeight:540,beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,onOpen:null,onClose:null,loopAtEnd:!1,touchNavigation:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,jwplayer:{api:null,licenseKey:null,params:{width:"100%",aspectratio:"16:9",stretching:"uniform"}},vimeo:{api:"https://player.vimeo.com/api/player.js",params:{api:1,title:0,byline:0,portrait:0}},youtube:{api:"https://www.youtube.com/iframe_api",params:{enablejsapi:1,showinfo:0}},openEffect:"zoomIn",closeEffect:"zoomOut",slideEffect:"slide",moreText:"See more",moreLength:60,slideHtml:"",lightboxHtml:"",cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slide_back:{in:"slideInLeft",out:"slideOutRight"}}};c.slideHtml='<div class="gslide">         <div class="gslide-inner-content">            <div class="ginner-container">               <div class="gslide-media">               </div>               <div class="gslide-description">                  <h4 class="gslide-title"></h4>                  <div class="gslide-desc"></div>               </div>            </div>         </div>       </div>';function w(e){var i={},n=!1,t=0,s=arguments.length;"[object Boolean]"===Object.prototype.toString.call(e)&&(n=e,t++);for(;t<s;t++)!function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n&&"[object Object]"===Object.prototype.toString.call(e[t])?i[t]=w(!0,i[t],e[t]):i[t]=e[t])}(arguments[t]);return i}c.lightboxHtml='<div id="glightbox-body" class="glightbox-container">            <div class="gloader visible"></div>            <div class="goverlay"></div>            <div class="gcontainer">               <div id="glightbox-slider" class="gslider"></div>               <a class="gnext"></a>               <a class="gprev"></a>               <a class="gclose"></a>            </div>   </div>';var x={isFunction:function(e){return"function"==typeof e},isString:function(e){return"string"==typeof e},isNode:function(e){return!(!e||!e.nodeType||1!=e.nodeType)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return e&&e.length&&isFinite(e.length)},isObject:function(e){return"object"===(void 0===e?"undefined":i(e))&&null!=e&&!x.isFunction(e)&&!x.isArray(e)},isNil:function(e){return null==e},has:function(e,t){return null!==e&&hasOwnProperty.call(e,t)},size:function(e){if(x.isObject(e)){if(e.keys)return e.keys().length;var t,i=0;for(t in e)x.has(e,t)&&i++;return i}return e.length},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}};function h(e,t){if(!x.isNode(e)&&e!==window&&e!==document||(e=[e]),x.isArrayLike(e)||x.isObject(e)||(e=[e]),0!=x.size(e))if(x.isArrayLike(e)&&!x.isObject(e))for(var i=e.length,n=0;n<i&&!1!==t.call(e[n],e[n],n,e);n++);else if(x.isObject(e))for(var s in e)if(x.has(e,s)&&!1===t.call(e[s],e[s],s,e))break}function g(e,t,i){var n=1<arguments.length&&void 0!==t?t:null,s=2<arguments.length&&void 0!==i?i:null,e=e[a]=e[a]||[],o={all:e,evt:null,found:null};return n&&s&&0<x.size(e)&&h(e,function(e,t){if(e.eventName==n&&e.fn.toString()==s.toString())return o.found=!0,o.evt=t,!1}),o}function k(i,e,t){var n=1<arguments.length&&void 0!==e?e:{},s=n.onElement,o=n.withCallback,e=n.avoidDuplicate,l=void 0===e||e,e=n.once,r=void 0!==e&&e,n=n.useCapture,a=void 0!==n&&n,c=t,d=s||[];function u(e){x.isFunction(o)&&o.call(c,e,this),r&&u.destroy()}return x.isString(d)&&(d=document.querySelectorAll(d)),u.destroy=function(){h(d,function(e){var t=g(e,i,u);t.found&&t.all.splice(t.evt,1),e.removeEventListener&&e.removeEventListener(i,u,a)})},h(d,function(e){var t=g(e,i,u);(e.addEventListener&&l&&!t.found||!l)&&(e.addEventListener(i,u,a),t.all.push({eventName:i,fn:u}))}),u}function E(e,t){A(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function C(t,e){var i=e.split(" ");1<i.length?h(i,function(e){C(t,e)}):t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}function A(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function d(t,e,i){var n,e=1<arguments.length&&void 0!==e?e:"",s=2<arguments.length&&void 0!==i&&i;t&&""!==e&&("none"!=e?(h(n=e.split(" "),function(e){E(t,"g"+e)}),k(r,{onElement:t,avoidDuplicate:!1,once:!0,withCallback:function(e,t){h(n,function(e){C(t,"g"+e)}),x.isFunction(s)&&s()}})):x.isFunction(s)&&s())}function T(e){var t=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)t.appendChild(i.firstChild);return t}function v(e,t){for(;e!==document.body;)if("function"==typeof(e=e.parentElement).matches?e.matches(t):e.msMatchesSelector(t))return e}function u(e){e.style.display="block"}function f(e){e.style.display="none"}function p(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,s=arguments[1],o={href:"",title:"",description:"",descPosition:"bottom",effect:"",node:n};if(x.isObject(n)&&!x.isNode(n))return w(o,n);var e="",l=n.getAttribute("data-glightbox"),t=n.nodeName.toLowerCase();"div"===t&&(e=jQuery(n).attr("href")),"img"===t&&(e=n.src),o.href=e,h(o,function(e,t){x.has(s,t)&&(o[t]=s[t]);var i=n.dataset[t];x.isNil(i)||(o[t]=i)});var r,e=I(e),o=w(o,e);x.isNil(l)?("div"==t&&(i=n.title,x.isNil(i)||""===i||(o.title=i)),"img"==t&&(a=n.alt,x.isNil(a)||""===a||(o.title=a)),i=n.getAttribute("data-description"),x.isNil(i)||""===i||(o.description=i)):(r=[],h(o,function(e,t){r.push(";\\s?"+t)}),r=r.join("\\s?:|"),""!==l.trim()&&h(o,function(e,t){var i=l,n=new RegExp("s?"+t+"s?:s?(.*?)("+r+"s?:|$)"),n=i.match(n);n&&n.length&&n[1]&&(n=n[1].trim().replace(/;\s*$/,""),o[t]=n)})),(a=n.querySelector(".glightbox-desc"))&&(o.description=a.innerHTML),o.sourcetype=o.hasOwnProperty("type")?o.type:o.sourcetype,o.type=o.sourcetype;var i="video"==o.sourcetype?s.videosWidth:s.width,a="video"==o.sourcetype?s.videosHeight:s.height;return o.width=x.has(o,"width")?o.width:i,o.height=x.has(o,"height")?o.height:a,o}function O(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(A(e,"loaded"))return!1;x.isFunction(this.settings.beforeSlideLoad)&&this.settings.beforeSlideLoad(e,i);var s=i.type,o=i.descPosition,l=e.querySelector(".gslide-media"),r=e.querySelector(".gslide-title"),a=e.querySelector(".gslide-desc"),c=e.querySelector(".gslide-description"),d=n;if(x.isFunction(this.settings.afterSlideLoad)&&(d=function(){x.isFunction(n)&&n(),t.settings.afterSlideLoad(e,i)}),""==i.title&&""==i.description?c&&c.parentNode.removeChild(c):(r&&""!==i.title?r.innerHTML=i.title:r.parentNode.removeChild(r),a&&""!==i.description?y&&0<this.settings.moreLength?(i.smallDescription=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:50,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=i;if((e=e.trim()).length<=t)return e;t=e.substr(0,t-1);return n?t+'... <a href="#" class="desc-more">'+i+"</a>":t}(i.description,this.settings.moreLength,this.settings.moreText),a.innerHTML=i.smallDescription,function s(e,o){var e=e.querySelector(".desc-more");if(!e)return!1;k("click",{onElement:e,withCallback:function(e,t){e.preventDefault();var i=v(t,".gslide-desc");if(!i)return!1;i.innerHTML=o.description,E(S,"gdesc-open");var n=k("click",{onElement:[S,v(i,".gslide-description")],withCallback:function(e,t){"div"!==e.target.nodeName.toLowerCase()&&(C(S,"gdesc-open"),E(S,"gdesc-closed"),i.innerHTML=o.smallDescription,s(i,o),setTimeout(function(){C(S,"gdesc-closed")},400),n.destroy())}})}})}.apply(this,[a,i])):a.innerHTML=i.description:a.parentNode.removeChild(a),E(l.parentNode,"desc-"+o),E(c,"description-"+o)),E(l,"gslide-"+s),E(e,"loaded"),"video"!==s)if("external"!==s)if("inline"!==s){if("image"===s){var u=new Image;return u.addEventListener("load",function(){x.isFunction(d)&&d()},!1),void(u.src=i.href)}x.isFunction(d)&&d()}else(function(e,t,i){var n=e.querySelector(".gslide-media"),e=document.getElementById(t.inlined.replace("#",""));e&&((e=e.cloneNode(!0)).style.height=t.height+"px",e.style.maxWidth=t.width+"px",E(e,"ginlined-content"),n.appendChild(e),x.isFunction(i)&&i())}).apply(this,[e,i,d]);else{u=N(i.href,i.width,i.height,d);l.appendChild(u)}else(function(e,i,n){var s=this,t=i.source,o="gvideo"+i.index,l=e.querySelector(".gslide-media"),r=i.href,e=location.protocol.replace(":","");"file"==e&&(e="http");{var a;"vimeo"==t&&(d=/vimeo.*\/(\d+)/i.exec(r),c=L(this.settings.vimeo.params),d=e+"://player.vimeo.com/video/"+d[1]+"?"+c,j(this.settings.vimeo.api),c=function(){!function(e,t,i,n){if(e())return t();i=i||100;var s,o=setInterval(function(){e()&&(clearInterval(o),s&&clearTimeout(s),t())},i);n&&(s=setTimeout(function(){clearInterval(o)},n))}(function(){return"undefined"!=typeof Vimeo},function(){var e=new Vimeo.Player(a);b[o]=e,x.isFunction(n)&&n()})},(a=N(d,i.width,i.height,c,l)).id=o,a.className="vimeo-video gvideo",this.settings.autoplayVideos&&!y&&(a.className+=" wait-autoplay"))}{var c,d,u;"youtube"==t&&(d=L(w(this.settings.youtube.params,{playerapiid:o})),c=function(e){var t="";t=void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?(t=e[2].split(/[^0-9a-z_\-]/i))[0]:e;return t}(r),d=e+"://www.youtube.com/embed/"+c+"?"+d,j(this.settings.youtube.api),(u=N(d,i.width,i.height,function(){var e;!x.isNil(YT)&&YT.loaded?(e=new YT.Player(u),b[o]=e):m.push(u),x.isFunction(n)&&n()},l)).id=o,u.className="youtube-video gvideo",this.settings.autoplayVideos&&!y&&(u.className+=" wait-autoplay"))}if("local"==t){var h='<video id="'+o+'" ';h+='style="background:#000; width: '+i.width+"px; height: "+i.height+'px;" ',h+='preload="metadata" ',h+='x-webkit-airplay="allow" ',h+='webkit-playsinline="" ',h+="controls ",h+='class="gvideo">';var g,v,t=r.toLowerCase().split(".").pop(),f={mp4:"",ogg:"",webm:""};for(g in f[t]=r,f)f.hasOwnProperty(g)&&(v=f[g],i.hasOwnProperty(g)&&(v=i[g]),""!==v&&(h+='<source src="'+v+'" type="video/'+g+'">'));t=T(h+="</video>");l.appendChild(t);var p=document.getElementById(o);if(null!==this.settings.jwplayer&&null!==this.settings.jwplayer.api){this.settings.jwplayer;t=this.settings.jwplayer.api;if(!t)return console.warn("Missing jwplayer api file"),x.isFunction(n)&&n(),!1;j(t,function(){var e=w(s.settings.jwplayer.params,{width:i.width+"px",height:i.height+"px",file:r});jwplayer.key=s.settings.jwplayer.licenseKey;var t=jwplayer(o);t.setup(e),(b[o]=t).on("ready",function(){E(p=l.querySelector(".jw-video"),"gvideo"),p.id=o,x.isFunction(n)&&n()})})}else E(p,"html5-video"),b[o]=p,x.isFunction(n)&&n()}}).apply(this,[e,i,d])}function N(e,t,i,n,s){var o=document.createElement("iframe"),l=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return o.className="vimeo-video gvideo",o.src=e,o.style.height=y&&l<767?"":i+"px",o.style.width=t+"px",o.setAttribute("allowFullScreen",""),o.onload=function(){E(o,"iframe-ready"),x.isFunction(n)&&n()},s&&s.appendChild(o),o}function j(e,t){if(x.isNil(e))console.error("Inject videos api error");else{var i=document.querySelectorAll('script[src="'+e+'"]');if(x.isNil(i)||0==i.length){i=document.createElement("script");return i.type="text/javascript",i.src=e,i.onload=function(){x.isFunction(t)&&t()},void document.body.appendChild(i)}x.isFunction(t)&&t()}}function q(){for(var e=0;e<m.length;e++){var t=m[e],i=new YT.Player(t);b[t.id]=i}}function L(e){var i="",n=0;return h(e,function(e,t){0<n&&(i+="&amp;"),i+=t+"="+e,n+=1}),i}void 0!==window.onYouTubeIframeAPIReady?window.onYouTubeIframeAPIReady=function(){window.onYouTubeIframeAPIReady(),q()}:window.onYouTubeIframeAPIReady=q;var I=function(e){var t=e,i={};if(null!==(e=e.toLowerCase()).match(/\.(jpeg|jpg|gif|png)$/))return i.sourcetype="image",i;if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return i.sourcetype="video",i.source="youtube",i;if(e.match(/vimeo\.com\/([0-9]*)/))return i.sourcetype="video",i.source="vimeo",i;if(null!==e.match(/\.(mp4|ogg|webm)$/))return i.sourcetype="video",i.source="local",i;if(-1<e.indexOf("#")){t=t.split("#").pop();if(""!==t.trim())return i.sourcetype="inline",i.source=e,i.inlined="#"+t,i}return-1<e.indexOf("gajax=true")&&(i.sourcetype="ajax",i.source=e),i.sourcetype="external",i.source=e,i};function F(e,t){t=1<arguments.length&&void 0!==t?t:"";if(""==t)return e.style.webkitTransform="",e.style.MozTransform="",e.style.msTransform="",e.style.OTransform="",void(e.style.transform="");e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function B(e){var i=e.querySelector(".gslide-media"),e=e.querySelector(".gslide-description");E(i,"greset"),F(i,"translate3d(0, 0, 0)");k(l,{onElement:i,once:!0,withCallback:function(e,t){C(i,"greset")}});i.style.opacity="",e&&(e.style.opacity="")}var P=(t(M,[{key:"init",value:function(){var i=this;this.baseEvents=k("click",{onElement:"."+this.settings.selector,withCallback:function(e,t){e.preventDefault(),i.open(t)}})}},{key:"open",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.elements=this.getElements(e),!jQuery(e).closest(".horizontal-timeline").length||!jQuery(e).closest(".horizontal-timeline").hasClass("exstoplb")){if(0==this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var t=this.settings.startAt;e&&(t=this.elements.indexOf(e))<0&&(t=0),this.build(),d(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.in);e=S.offsetWidth;if(S.style.width=e+"px",E(S,"glightbox-open"),E(o,"glightbox-open"),y&&(E(o,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(t,!0),1==this.elements.length?(f(this.prevButton),f(this.nextButton)):(u(this.prevButton),u(this.nextButton)),this.lightboxOpen=!0,x.isFunction(this.settings.onOpen)&&this.settings.onOpen(),y&&s&&this.settings.touchNavigation)return function(){var o=this;if(this.events.hasOwnProperty("touchStart"))return!1;var l=void 0,r=void 0,a=void 0,c=!1,d=!1,u=!1,h=!1,g={},v={},f=(this.slidesContainer,null),p=0,y=0,i=null,m=null,b=null,w=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.events.doctouchmove=k("touchmove",{onElement:document,withCallback:function(e,t){if(A(S,"gdesc-open"))return e.preventDefault(),!1}}),this.events.touchStart=k("touchstart",{onElement:S,withCallback:function(e,t){A(S,"gdesc-open")||(E(S,"touching"),f=o.getActiveSlide(),i=f.querySelector(".gslide-image"),m=f.querySelector(".gslide-media"),b=f.querySelector(".gslide-description"),o.index,v=e.targetTouches[0],g.pageX=e.targetTouches[0].pageX,g.pageY=e.targetTouches[0].pageY,p=e.targetTouches[0].clientX,y=e.targetTouches[0].clientY)}}),this.events.gestureStart=k("gesturestart",{onElement:S,withCallback:function(e,t){i&&(e.preventDefault(),u=!0)}}),this.events.gestureChange=k("gesturechange",{onElement:S,withCallback:function(e,t){e.preventDefault(),F(i,"scale("+e.scale+")")}}),this.events.gesturEend=k("gestureend",{onElement:S,withCallback:function(e,t){u=!1,e.scale<1?(h=!1,F(i,"scale(1)")):h=!0}}),this.events.touchMove=k("touchmove",{onElement:S,withCallback:function(e,t){if(A(S,"touching")&&!(A(S,"gdesc-open")||u||h)){e.preventDefault(),v=e.targetTouches[0];var i=f.querySelector(".gslide-inner-content").offsetHeight,n=f.querySelector(".gslide-inner-content").offsetWidth,s=e.targetTouches[0].clientX,e=e.targetTouches[0].clientY,s=p-s,e=y-e;if(Math.abs(s)>Math.abs(e)?d=!(c=!1):c=!(d=!1),c)return r=v.pageY-g.pageY,void((0<=Math.abs(r)||c)&&(i=.75-Math.abs(r)/i,m.style.opacity=i,b&&(b.style.opacity=i),F(m,"translate3d(0, "+r+"px, 0)")));if(l=v.pageX-g.pageX,a=100*l/w,d){if(o.index+1==o.elements.length&&l<-60)return B(f),!1;if(o.index-1<0&&60<l)return B(f),!1;n=.75-Math.abs(l)/n;m.style.opacity=n,b&&(b.style.opacity=n),F(m,"translate3d("+a+"%, 0, 0)")}}}}),this.events.touchEnd=k("touchend",{onElement:S,withCallback:function(e,t){r=v.pageY-g.pageY,l=v.pageX-g.pageX,a=100*l/w,C(S,"touching");var i,n=f.querySelector(".gslide-inner-content").offsetHeight,s=f.querySelector(".gslide-inner-content").offsetWidth;if(c)return c=!1,void B(f);d&&(n=!(d=!(i="prev")),l<0&&(i="next",l=Math.abs(l)),"prev"==i&&o.index-1<0&&(n=!1),"next"==i&&o.index+1>=o.elements.length&&(n=!1),n&&s/2-90<=l?"next"==i?o.nextSlide():o.prevSlide():B(f))}})}.apply(this),!1;this.settings.keyboardNavigation&&function(){var i=this;if(this.events.hasOwnProperty("keyboard"))return!1;this.events.keyboard=k("keydown",{onElement:window,withCallback:function(e,t){e=(e=e||window.event).keyCode;39==e&&i.nextSlide(),37==e&&i.prevSlide(),27==e&&i.close()}})}.apply(this)}}},{key:"showSlide",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];u(this.loader),this.index=t;var n=this.slidesContainer.querySelector(".current");n&&C(n,"current"),this.slideAnimateOut();var s=this.slidesContainer.querySelectorAll(".gslide")[t];u(this.slidesContainer),A(s,"loaded")?(this.slideAnimateIn(s,i),f(this.loader)):(u(this.loader),(n=p(this.elements[t],this.settings)).index=t,O.apply(this,[s,n,function(){f(e.loader),e.slideAnimateIn(s,i)}])),this.preloadSlide(t+1),this.preloadSlide(t-1),C(this.nextButton,"disabled"),C(this.prevButton,"disabled"),0===t?E(this.prevButton,"disabled"):t===this.elements.length-1&&!0!==this.settings.loopAtEnd&&E(this.nextButton,"disabled"),this.activeSlide=s}},{key:"preloadSlide",value:function(e){var t=this;if(e<0||e>this.elements.length)return!1;if(x.isNil(this.elements[e]))return!1;var i=this.slidesContainer.querySelectorAll(".gslide")[e];if(A(i,"loaded"))return!1;var n=p(this.elements[e],this.settings);n.index=e;e=n.sourcetype;"video"==e||"external"==e?setTimeout(function(){O.apply(t,[i,n])},200):O.apply(this,[i,n])}},{key:"prevSlide",value:function(){var e=this.index-1;if(e<0)return!1;this.goToSlide(e)}},{key:"nextSlide",value:function(){var e=this.index+1;if(e>this.elements.length)return!1;this.goToSlide(e)}},{key:"goToSlide",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];-1<e&&(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,e<this.elements.length?this.showSlide(e):!0===this.settings.loopAtEnd&&(e=0,this.showSlide(e)))}},{key:"slideAnimateIn",value:function(e,t){var i=this,n=e.querySelector(".gslide-media"),s=e.querySelector(".gslide-description"),o={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},l={index:this.index,slide:this.activeSlide};0<n.offsetWidth&&s&&(f(s),e.querySelector(".ginner-container").style.maxWidth=n.offsetWidth+"px",s.style.display=""),C(e,this.effectsClasses),t?d(e,this.settings.openEffect,function(){!y&&i.settings.autoplayVideos&&i.playSlideVideo(e),x.isFunction(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[o,l])}):(t="none"!==(t=this.settings.slideEffect)?this.settings.cssEfects[t].in:t,this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(t=this.settings.cssEfects.slide_back.in),d(e,t,function(){!y&&i.settings.autoplayVideos&&i.playSlideVideo(e),x.isFunction(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[o,l])})),E(e,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var i=this.prevActiveSlide;C(i,this.effectsClasses),E(i,"prev");var e=this.settings.slideEffect,e="none"!==e?this.settings.cssEfects[e].out:e;this.stopSlideVideo(i),x.isFunction(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},{index:this.index,slide:this.activeSlide}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(e=this.settings.cssEfects.slide_back.out),d(i,e,function(){var e=i.querySelector(".gslide-media"),t=i.querySelector(".gslide-description");e.style.transform="",C(e,"greset"),e.style.opacity="",t&&(t.style.opacity=""),C(i,"prev")})}},{key:"stopSlideVideo",value:function(e){x.isNumber(e)&&(e=this.slidesContainer.querySelectorAll(".gslide")[e]);var t=e?e.querySelector(".gvideo"):null;if(!t)return!1;e=t.id;b&&b.hasOwnProperty(e)&&(e=b[e],A(t,"vimeo-video")&&e.pause(),A(t,"youtube-video")&&e.pauseVideo(),A(t,"jw-video")&&e.pause(!0),A(t,"html5-video")&&e.pause())}},{key:"playSlideVideo",value:function(e){x.isNumber(e)&&(e=this.slidesContainer.querySelectorAll(".gslide")[e]);var t=e.querySelector(".gvideo");if(!t)return!1;e=t.id;if(b&&b.hasOwnProperty(e)){e=b[e];return A(t,"vimeo-video")&&e.play(),A(t,"youtube-video")&&e.playVideo(),A(t,"jw-video")&&e.play(),A(t,"html5-video")&&e.play(),setTimeout(function(){C(t,"wait-autoplay")},300),!1}}},{key:"setElements",value:function(e){this.settings.elements=e}},{key:"getElements",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.elements=[],!x.isNil(this.settings.elements)&&x.isArray(this.settings.elements))return this.settings.elements;var t=!1;return null===e||(e=e.getAttribute("data-gallery"))&&""!==e&&(t=document.querySelectorAll('[data-gallery="'+e+'"]')),0==t&&(t=document.querySelectorAll("."+this.settings.selector)),t=Array.prototype.slice.call(t)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var e,t,i=[];for(e in this.settings.cssEfects)this.settings.cssEfects.hasOwnProperty(e)&&(t=this.settings.cssEfects[e],i.push("g"+t.in),i.push("g"+t.out));return i.join(" ")}},{key:"build",value:function(){var i=this;if(this.built)return!1;var e=T(this.settings.lightboxHtml);document.body.appendChild(e);var t=document.getElementById("glightbox-body"),e=(this.modal=t).querySelector(".gclose");this.prevButton=t.querySelector(".gprev"),this.nextButton=t.querySelector(".gnext"),this.overlay=t.querySelector(".goverlay"),this.loader=t.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.events={},E(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&e&&(this.events.close=k("click",{onElement:e,withCallback:function(e,t){e.preventDefault(),i.close()}})),e&&!this.settings.closeButton&&e.parentNode.removeChild(e),this.nextButton&&(this.events.next=k("click",{onElement:this.nextButton,withCallback:function(e,t){e.preventDefault(),i.nextSlide()}})),this.prevButton&&(this.events.prev=k("click",{onElement:this.prevButton,withCallback:function(e,t){e.preventDefault(),i.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=k("click",{onElement:t,withCallback:function(e,t){v(e.target,".ginner-container")||A(e.target,"gnext")||A(e.target,"gprev")||i.close()}})),h(this.elements,function(){var e=T(i.settings.slideHtml);i.slidesContainer.appendChild(e)}),s&&E(o,"glightbox-touch"),this.built=!0}},{key:"reload",value:function(){this.init()}},{key:"close",value:function(){var t=this;if(this.closing)return!1;this.closing=!0,this.stopSlideVideo(this.activeSlide),E(this.modal,"glightbox-closing"),d(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),d(this.activeSlide,this.settings.closeEffect,function(){if(t.activeSlide=null,t.prevActiveSlideIndex=null,t.prevActiveSlide=null,t.built=!1,t.events)for(var e in t.events)t.events.hasOwnProperty(e)&&t.events[e].destroy();C(S,"glightbox-open"),C(o,"glightbox-open"),C(S,"touching"),C(S,"gdesc-open"),S.style.width="",t.modal.parentNode.removeChild(t.modal),x.isFunction(t.settings.onClose)&&t.settings.onClose(),t.closing=null})}},{key:"destroy",value:function(){this.close(),this.baseEvents.destroy()}}]),M);function M(e){!function(e){if(!(e instanceof M))throw new TypeError("Cannot call a class as a function")}(this),this.settings=w(c,e||{}),this.effectsClasses=this.getAnimationClasses()}e.exports=function(){var e=new P(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});return e.init(),e}});